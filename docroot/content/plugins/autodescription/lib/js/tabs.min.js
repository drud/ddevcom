'use strict';window.tsfTabs=function(){const a="undefined"!=typeof tsfTabsL10n&&tsfTabsL10n,b=new Map,c=new Map,d=()=>{let a=new Event("change");b.forEach(b=>{b.fixHistory&&document.querySelectorAll(`.${b.HTMLClasses.tabRadio}:checked`).forEach(b=>{b.dispatchEvent(a)})})},e=(a,b)=>{const c=h(a),d=document.getElementById(`${b.id}-content`);if(!d.classList.contains(c.HTMLClasses.activeTabContent)){const a=document.querySelectorAll(`.${b.name}-content`);a&&a.forEach(a=>{a.classList.remove(c.HTMLClasses.activeTabContent)}),d&&d.classList.add(c.HTMLClasses.activeTabContent)}document.getElementById(b.id).dispatchEvent(c.tabToggledEvent)},f=(a,b)=>{const d=b.name,e=h(a),f=125,g=175,i={fadeIn:{opacity:1,animation:"tsf-fade-in",animationDuration:`${g}ms`,animationTimingFunction:"cubic-bezier(.54,.12,.90,.60)"},fadeOut:{opacity:0,animation:"tsf-fade-out",animationDuration:`${f}ms`,animationTimingFunction:"cubic-bezier(.54,.12,.90,.60)"}},j=a=>{for(const b in i.fadeIn)a.style[b]=i.fadeIn[b]},k=a=>{for(const b in i.fadeOut)a.style[b]=i.fadeOut[b]},l=c.get("container").get(d),m=document.querySelectorAll(`.${b.name}-content`),n=()=>{l.style.boxSizing="border-box",l.style.minHeight=`${l.getBoundingClientRect().height}px`},o=()=>{l.style.minHeight=""},p=async()=>{let a=document.getElementById(`${c.get("target").get(d)}-content`);return n(),m.forEach(a=>{a.classList.remove(e.HTMLClasses.activeTabContent)}),a.classList.add(e.HTMLClasses.activeTabContent),o(),j(a),await new Promise(a=>setTimeout(a,2*g/3)),q()},q=async()=>{let a=document.getElementById(`${c.get("target").get(d)}-content`);!a||a.classList.contains(e.HTMLClasses.activeTabContent)?(s(),document.getElementById(c.get("target").get(d)).dispatchEvent(e.tabToggledEvent)):(n(),m.forEach(a=>{a.classList.remove(e.HTMLClasses.activeTabContent)}),requestAnimationFrame(()=>{p()&&s()}))},r=()=>new Promise(async a=>(m.forEach(k),await new Promise(a=>setTimeout(a,f)),p()&&a())),s=()=>c.get("promises").delete(d);(()=>{c.get("promises").has(d)||(c.get("promises").set(d,r),c.get("promises").get(d)())})()},g=(a,b)=>{const d=h(a),g=b.target,i=!b.isTrusted,j=b.target.id,k=b.target.name,l=k;c.get("wrap").has(l)||c.get("wrap").set(l,g.closest(`.${d.HTMLClasses.wrapper}`));const m=c.get("wrap").get(l).querySelector(`.${d.HTMLClasses.activeTab}`);if(!i){const a=document.querySelector(`.${d.HTMLClasses.activeTabContent} :invalid`);if(a)return a.reportValidity(),m&&(m.checked=!0),g.checked=!1,b.stopPropagation(),b.preventDefault(),!1}if(m){m.classList.remove(d.HTMLClasses.activeTab);let a=document.querySelector(`.${d.HTMLClasses.tabLabel}[for="${m.id}"]`);a&&a.classList.remove("tsf-no-focus-ring")}if(g.classList.add(d.HTMLClasses.activeTab),i)e(a,b.target);else{if(c.get("container").has(l)||c.get("container").set(l,g.closest(".inside")),c.get("target").set(l,j),c.get("promises").has(l))return;f(a,b.target)}},h=a=>b.get(a);return Object.assign({load:()=>{c.set("promises",new Map),c.set("target",new Map),c.set("wrap",new Map),c.set("container",new Map),window.addEventListener("load",d)}},{toggleToInstant:e,toggleTo:f,getStack:h,initStack:(a,c)=>{b.set(a,c);const d=h(a),e=b=>g(a,b),f=a=>a.currentTarget.classList.add("tsf-no-focus-ring");document.querySelectorAll(`.${d.HTMLClasses.tabRadio}`).forEach(a=>{a.addEventListener("change",e)}),document.querySelectorAll(`.${d.HTMLClasses.wrapper} .${d.HTMLClasses.tabLabel}`).forEach(a=>{a.addEventListener("click",f)})}},{l10n:a})}(),window.tsfTabs.load();
