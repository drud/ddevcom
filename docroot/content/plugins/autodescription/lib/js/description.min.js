'use strict';window.tsfDescription=function(a){const b="undefined"!=typeof tsfDescriptionL10n&&tsfDescriptionL10n,c=new Map;let d={};const e=a=>c.get(a);let f;const g=()=>{if(f)return f;for(const a of c.keys())if(h(a,"hasLegacy"))return f=a},h=(a,b)=>b?b in d[a]?d[a][b]:void 0:d[a],i=(a,b,c)=>{if(a in d)switch(d[a][b]=c,b){case"allowReferenceChange":case"defaultDescription":case"useDefaultDescription":default:t(a);}},j=a=>{let b=[document.getElementById("tsf-description-reference_"+a)];if(h(a,"hasLegacy")){let a=document.getElementById("tsf-description-reference");a&&b.unshift(a)}return b},k=a=>{let b=j(a.target.id);if(!b[0])return;let c=h(a.target.id,"allowReferenceChange"),d=!c||h(a.target.id,"useDefaultDescription"),e=c&&a.target.value||d&&h(a.target.id,"defaultDescription")||"",f=tsf.escapeString(tsf.decodeEntities(tsf.sDoubleSpace(e.trim())));b.forEach(a=>{a.innerHTML=f,setTimeout(()=>{a.dispatchEvent(new Event("change"))},0)})},l=a=>{a.target.placeholder=j(a.target.id)[0].innerText},m=a=>{if("tsfC"in window){let b=document.getElementById(a.target.id+"_chars"),c=j(a.target.id)[0];b&&tsfC.updateCharacterCounter({e:b,text:c.innerHTML,field:"description",type:"search"})}},n=a=>{if("tsfC"in window){let b=document.getElementById(a.target.id+"_pixels"),c=j(a.target.id)[0];b&&tsfC.updatePixelCounter({e:b,text:c.innerHTML,field:"description",type:"search"})}},o=a=>{if(a){let b=e(a);b&&b.dispatchEvent(new Event("input"))}else c.forEach(a=>a.id&&o(a.id))},p=a=>{if(a){let b=e(a);b&&b.dispatchEvent(new CustomEvent("tsf-update-description-counter"))}else c.forEach(a=>a.id&&p(a.id))},q=a=>{k(a),l(a),r(a)},r=a=>{m(a),n(a)};let s={};const t=a=>{a in s&&clearTimeout(s[a]),s[a]=setTimeout(()=>o(a),10)},u=a=>{if("tsfAys"in window){let b=tsfAys.areSettingsChanged();o(a),!b&&tsfAys.areSettingsChanged()&&tsfAys.reset()}else o(a)};let v={};const w=a=>{a in v&&clearTimeout(v[a]),v[a]=setTimeout(()=>u(a),10)};let x=window.innerWidth;const y=()=>{let a=window.innerWidth;x<a?782>=x&&782<=a&&u():782<=x&&782>=a&&u(),x=a},z=()=>{a(document).on("wp-window-resized",y),window.addEventListener("tsf-counter-updated",()=>w())},A=a=>{!a instanceof Element||(a.addEventListener("input",q),a.addEventListener("tsf-update-description-counter",r),w(a.id))};return Object.assign({load:()=>{document.body.addEventListener("tsf-onload",z)}},{setInputElement:a=>(c.set(a.id,a),d[a.id]={allowReferenceChange:!0,defaultDescription:"",useDefaultDescription:!0},A(a),e(a.id)),getInputElement:e,getState:a=>(tsf.deprecatedFunc("tsfDescription.getState()","4.1.0","tsfDescription.getStateOf()"),h(g(),a)),getStateOf:h,updateState:(a,b)=>(tsf.deprecatedFunc("tsfDescription.updateState()","4.1.0","tsfDescription.updateStateOf()"),i(g(),a,b)),updateStateOf:i,updateStateAll:(a,b)=>{c.forEach(c=>{i(c.id,a,b)})},triggerCounter:p,triggerInput:o,enqueueTriggerInput:t,triggerUnregisteredInput:u,enqueueUnregisteredInputTrigger:w},{l10n:b})}(jQuery),window.tsfDescription.load();
